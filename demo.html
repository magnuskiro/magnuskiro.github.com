<!DOCTYPE html>

<html>

    <head>
        <title>PageDown Demo Page</title>
        
        <link rel="stylesheet" type="text/css" href="style.css" />
        
        <script type="text/javascript" src="pagedown/Markdown.Converter.js"></script>
        <script type="text/javascript" src="pagedown/Markdown.Sanitizer.js"></script>
        <script type="text/javascript" src="pagedown/Markdown.Editor.js"></script>


<script type="text/javascript">
var file = "welcome.md";
function loadJavaScript(){
	loadMenu();
	loadFile("welcome.md");
}

function loadMenu(){
	var clas="menu"; 
	var content = "menu goes here!";
	document.write("<div class='"+clas+"'>" + content + "</div>");
}

function loadFile(fileName){
	var clas="content"; 

	var txtFile = new XMLHttpRequest();
	txtFile.open("GET", "/pages/"+fileName, true);
	txtFile.onreadystatechange = function() {
    	if (txtFile.readyState === 4) {  // Makes sure the document is ready to parse.
    		if (txtFile.status === 200) {  // Makes sure it's found the file.
   				// create markdown converter 
    			var converter = new Markdown.Converter();
			
				// convert markdown to html	
				var content = converter.makeHtml(txtFile.responseText);

				// convert all markdown text to html and display it on the page.
				document.write("<div class='"+clas+"'>" + content + "</div>");

    		}
    	}
	}
	txtFile.send(null);
}

</script>

    </head>
    <body onload="loadJavaScript()">
	<div id="content" onload="loadFile(file)"> content here </div>
    </body>
</html>
